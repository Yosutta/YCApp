<% layout('/layouts/boilerplate.ejs') %>
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h1 class="text-center">Edit Campground</h1>
            <form action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" class="form-validation"
                autocomplete="off" novalidate enctype="multipart/form-data">
                <div class="form-group mb-3">
                    <label class="form-label" for="name">Campground name</label>
                    <input class="form-control" type="text" name="name" id="name" value='<%= campground.name %>'
                        required autofocus>
                    <div class='valid-feedback'> Looks good! </div>
                    <div class='invalid-feedback'> Your campground must have a name! </div>
                </div>
                <div class="form-group mb-3">
                    <label class="form-label" for="location">Location</label>
                    <input class="form-control" type="text" name="location" id="location"
                        value='<%= campground.location %>' required>
                    <div class='valid-feedback'> Looks good! </div>
                    <div class='invalid-feedback'> Your campground must have a location! </div>
                </div>
                <div class="form-group mb-3">
                    <label for="price">Price</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        <input type="text" class="form-control" id="price" name="price" placeholder="0.00"
                            value='<%= campground.price %>' required>
                        <div class='valid-feedback'> Looks good! </div>
                        <div class='invalid-feedback'> You don't plan on renting out campground for free, right? </div>
                    </div>
                </div>
                <div class="form-group mb-3">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="3"
                        required><%= campground.description %></textarea>
                    <div class='valid-feedback'> Looks good! </div>
                </div>
                <div class="form-group mb-3">
                    <label for="image" class="form-label">Add Images</label>
                    <input class="form-control" type="file" name="image" id="image" multiple>
                </div>
                <% campground.images.forEach((img, i)=>{ %> <img src="<%= img.thumb %> " alt="" class="img-thumbnail">
                    <input type="checkbox" name="deleteImages[]" id="image-<%= i %>" value="<%= img.fileName %>">
                    <label for="image-<%= i %>">Delete?</label>
                    <% }) %>
                        <div class="mt-3">
                            <button class="btn btn-primary mb-3">Save campground</button>
                        </div>
            </form>
            <form action=" /campgrounds/<%=campground._id %>?_method=DELETE" method="POST"> <button
                    class="btn btn-danger mb-3">Delete campground</button>
            </form>
            <a href=" /campgrounds/<%=campground._id %>/" class="btn btn-success mb-3">Back to <%= campground.name %>
            </a>
        </div>
    </div>